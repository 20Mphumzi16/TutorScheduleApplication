{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelRadio as _vModelRadio, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-ee9c2650\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"shopping-cart dark-theme\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Your Shopping Cart\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  class: \"cart-table\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Product\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Price\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Quantity\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Subtotal\")])], -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"product-info\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"product-name\"\n};\nconst _hoisted_9 = {\n  class: \"quantity-controls\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"onUpdate:modelValue\"];\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = {\n  class: \"cart-summary\"\n};\nconst _hoisted_14 = {\n  class: \"cart-totals\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Subtotal:\", -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Shipping:\")], -1 /* HOISTED */));\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Total:\", -1 /* HOISTED */));\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"cart-actions\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"checkout-button\"\n}, \"Checkout\")], -1 /* HOISTED */));\nconst _hoisted_20 = {\n  key: 1\n};\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Your cart is empty.\", -1 /* HOISTED */));\nconst _hoisted_22 = [_hoisted_21];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass($data.themeClass)\n  }, [_createVNode(_component_NavBar), _createCommentVNode(\" Shopping Cart \"), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, $data.cartItems.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cartItems, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n      src: $options.getPhotoUrl(item.photo),\n      class: \"product-image\"\n    }, null, 8 /* PROPS */, _hoisted_7), _createElementVNode(\"div\", _hoisted_8, _toDisplayString(item.name), 1 /* TEXT */)])]), _createElementVNode(\"td\", null, _toDisplayString($options.formatCurrency(item.price)), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n      onClick: $event => $options.decreaseQuantity(item)\n    }, \"-\", 8 /* PROPS */, _hoisted_10), _withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"onUpdate:modelValue\": $event => item.quantity = $event,\n      min: \"1\",\n      class: \"quantity-input\"\n    }, null, 8 /* PROPS */, _hoisted_11), [[_vModelText, item.quantity]]), _createElementVNode(\"button\", {\n      onClick: $event => $options.increaseQuantity(item)\n    }, \"+\", 8 /* PROPS */, _hoisted_12)])]), _createElementVNode(\"td\", null, _toDisplayString($options.formatCurrency(item.price * item.quantity)), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"p\", null, [_hoisted_15, _createTextVNode(\" \" + _toDisplayString($options.formatCurrency($options.cartTotal)), 1 /* TEXT */)]), _hoisted_16, _createElementVNode(\"div\", null, [_createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"Collection\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.shippingOption = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.shippingOption]]), _createTextVNode(\" Collection from Comic Warehouse Bedfordview Johannesburg\")]), _hoisted_17, _createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"Courier\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.shippingOption = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.shippingOption]]), _createTextVNode(\" Nationwide Courier: R149.00\")])]), _createElementVNode(\"p\", null, [_hoisted_18, _createTextVNode(\" \" + _toDisplayString($options.formatCurrency($options.cartTotal + $data.shippingCost)), 1 /* TEXT */)])]), _hoisted_19])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [..._hoisted_22]))])], 2 /* CLASS */);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_hoisted_21","_createElementBlock","_normalizeClass","$data","themeClass","_createVNode","_component_NavBar","_createCommentVNode","_hoisted_1","_hoisted_2","cartItems","length","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","item","id","_hoisted_6","src","$options","getPhotoUrl","photo","_hoisted_7","_hoisted_8","_toDisplayString","name","formatCurrency","price","_hoisted_9","onClick","$event","decreaseQuantity","_hoisted_10","type","quantity","min","_hoisted_11","increaseQuantity","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_createTextVNode","cartTotal","_hoisted_16","value","_cache","shippingOption","_hoisted_17","_hoisted_18","shippingCost","_hoisted_19","_hoisted_20","_hoisted_22"],"sources":["C:\\Users\\PC\\Documents\\javaApplications\\My_comic_city_project_0.2\\src\\frontend\\src\\components\\ShoppingCart.vue"],"sourcesContent":["<template>\r\n  <div :class=\"themeClass\">\r\n    <NavBar/>\r\n\r\n    <!-- Shopping Cart -->\r\n    <div class=\"shopping-cart dark-theme\">\r\n      <h2>Your Shopping Cart</h2>\r\n      <div v-if=\"cartItems.length\">\r\n        <table class=\"cart-table\">\r\n          <thead>\r\n          <tr>\r\n            <th>Product</th>\r\n            <th>Price</th>\r\n            <th>Quantity</th>\r\n            <th>Subtotal</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"item in cartItems\" :key=\"item.id\">\r\n            <td>\r\n              <div class=\"product-info\">\r\n                <img :src=\"getPhotoUrl(item.photo)\" class=\"product-image\"/>\r\n                <div class=\"product-name\">{{ item.name }}</div>\r\n              </div>\r\n            </td>\r\n            <td>{{ formatCurrency(item.price) }}</td>\r\n            <td>\r\n              <div class=\"quantity-controls\">\r\n                <button @click=\"decreaseQuantity(item)\">-</button>\r\n                <input type=\"number\" v-model=\"item.quantity\" min=\"1\" class=\"quantity-input\"/>\r\n                <button @click=\"increaseQuantity(item)\">+</button>\r\n              </div>\r\n            </td>\r\n            <td>{{ formatCurrency(item.price * item.quantity) }}</td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <div class=\"cart-summary\">\r\n          <div class=\"cart-totals\">\r\n            <p><strong>Subtotal:</strong> {{ formatCurrency(cartTotal) }}</p>\r\n            <p><strong>Shipping:</strong></p>\r\n            <div>\r\n              <label><input type=\"radio\" value=\"Collection\" v-model=\"shippingOption\"> Collection from Comic Warehouse\r\n                Bedfordview Johannesburg</label><br>\r\n              <label><input type=\"radio\" value=\"Courier\" v-model=\"shippingOption\"> Nationwide Courier: R149.00</label>\r\n            </div>\r\n            <p><strong>Total:</strong> {{ formatCurrency(cartTotal + shippingCost) }}</p>\r\n          </div>\r\n          <div class=\"cart-actions\">\r\n            <button class=\"checkout-button\">Checkout</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <p>Your cart is empty.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCustomerCart} from \"@/services/cartService\";\r\nimport NavBar from \"@/components/NavBar.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    NavBar,\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      cartItems: [],\r\n      shippingOption: 'Collection',\r\n      shippingCost: 0,\r\n      isCartVisible: false,\r\n      isWishlistVisible: false,\r\n      cartItemCount: 0,\r\n      wishListItemCount: 0,\r\n      cart: '',\r\n      themeClass: 'dark-theme'\r\n    };\r\n  },\r\n  computed: {\r\n    cartTotal() {\r\n      return this.cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);\r\n    },\r\n    totalWithShipping() {\r\n      return this.cartTotal + this.shippingCost;\r\n    }\r\n  },\r\n  watch: {\r\n    shippingOption(newVal) {\r\n      this.shippingCost = newVal === 'Courier' ? 149 : 0;\r\n    }\r\n  },\r\n  methods: {\r\n    formatCurrency(amount) {\r\n      return 'R ' + amount.toFixed(2);\r\n    },\r\n    async fetchCart() {\r\n      const userEmail = localStorage.getItem('userEmail');\r\n      if (!userEmail) {\r\n        console.error('User email not found. Please log in.');\r\n        this.$router.push('/');\r\n      }\r\n      try {\r\n        const response = await getCustomerCart(userEmail);\r\n        this.cart = response.data ||{comicBooks: []};\r\n        this.cartItems = this.cart.comicBooks;\r\n\r\n      } catch (error) {\r\n        console.error('Error fetching cart items:', error);\r\n      }\r\n    },\r\n\r\n  increaseQuantity(item) {\r\n    item.quantity++;\r\n  },\r\n  decreaseQuantity(item) {\r\n    if (item.quantity > 1) {\r\n      item.quantity--;\r\n    }\r\n  },\r\n  getPhotoUrl(photo) {\r\n    return `data:image/jpeg;base64,${photo}`;\r\n  },\r\n\r\n  toggleTheme() {\r\n    this.themeClass = this.themeClass === 'dark-theme' ? 'light-theme' : 'dark-theme';\r\n  },\r\n}\r\n,\r\ncreated()\r\n{\r\n  this.fetchCart();\r\n}\r\n}\r\n;\r\n</script>\r\n\r\n<style scoped>\r\n\r\n/* Shopping Cart Styles */\r\n.shopping-cart {\r\n  padding: 20px;\r\n  background-color: #2c2c2c; /* Darker background for contrast */\r\n  color: #f0f0f0; /* Lighter text color for readability */\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  border-radius: 8px;\r\n  margin-top: 120px;\r\n}\r\n\r\n.cart-table {\r\n  width: 100%;\r\n  margin-bottom: 20px;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.cart-table th, .cart-table td {\r\n  padding: 15px;\r\n  border-bottom: 1px solid #444; /* Darker border for table rows */\r\n  text-align: left;\r\n}\r\n\r\n.product-info {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.product-image {\r\n  width: 70px;\r\n  height: 100px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.quantity-controls {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.quantity-controls button {\r\n  background-color: #ff5722; /* Orange button background */\r\n  color: white;\r\n  border: none;\r\n  padding: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.quantity-controls input {\r\n  width: 50px;\r\n  text-align: center;\r\n  margin: 0 5px;\r\n}\r\n\r\n.cart-summary {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.cart-totals p {\r\n  margin: 10px 0;\r\n}\r\n\r\n.checkout-button {\r\n  background-color: #ff5722; /* Orange button background */\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n}\r\n\r\n.checkout-button:hover {\r\n  background-color: #e64a19; /* Darker orange for hover effect */\r\n}\r\n\r\n/* Dark Theme Adjustments */\r\n.dark-theme .shopping-cart {\r\n  background-color: #1b1b1b;\r\n  color: white;\r\n}\r\n\r\n.dark-theme .quantity-controls button,\r\n.dark-theme .checkout-button {\r\n  background-color: #ff5722;\r\n}\r\n\r\n.dark-theme .quantity-controls button:hover,\r\n.dark-theme .checkout-button:hover {\r\n  background-color: #e64a19;\r\n}\r\n\r\n.dark-theme .cart-table th,\r\n.dark-theme .cart-table td {\r\n  border-bottom: 1px solid #333;\r\n}\r\n\r\n.dark-theme .cart-summary {\r\n  color: #f0f0f0;\r\n}\r\n\r\n.dark-theme {\r\n  background-color: #1b1b1b;\r\n  color: white;\r\n}\r\n\r\n.dark-theme .navbar {\r\n  background-color: #333;\r\n  color: white;\r\n}\r\n\r\n.dark-theme .top-section {\r\n  background-color: #444;\r\n}\r\n\r\n.dark-theme .middle-section {\r\n  background-color: #333;\r\n}\r\n\r\n.dark-theme .bottom-section {\r\n  background-color: #444;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}